{"ast":null,"code":"import { login } from \"@/api/user\";\nimport storage from \"@/utils/storage\";\nconst user = {\n  state: {\n    userName: '',\n    nickName: '',\n    token: ''\n  },\n  getters: {},\n  mutations: {\n    SAVE_USER_NAME(state, userName) {\n      console.log(userName);\n      state.userName = userName;\n    },\n\n    SAVE_NICK_NAME(state, nickName) {\n      state.nickName = nickName;\n    },\n\n    SAVE_TOKEN(state, token) {\n      state.token = token;\n    }\n\n  },\n  actions: {\n    LOGIN({\n      commit\n    }, user) {\n      login(user).then(req => {\n        storage.saveSessionObject(\"loginUser\", req.data);\n        commit('SAVE_USER_NAME', req.data.user.userName);\n        commit('SAVE_NICK_NAME', req.data.user.nickName);\n        commit('SAVE_TOKEN', req.data.token);\n      });\n    }\n\n  }\n};\nexport default user;","map":{"version":3,"sources":["E:/学习/项目/元动力ssm小项目/website-ui/src/store/modules/user.js"],"names":["login","storage","user","state","userName","nickName","token","getters","mutations","SAVE_USER_NAME","console","log","SAVE_NICK_NAME","SAVE_TOKEN","actions","LOGIN","commit","then","req","saveSessionObject","data"],"mappings":"AAAA,SAAQA,KAAR,QAAoB,YAApB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AAEA,MAAMC,IAAI,GAAG;AACTC,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ,EAAE,EADP;AAEHC,IAAAA,QAAQ,EAAE,EAFP;AAGHC,IAAAA,KAAK,EAAE;AAHJ,GADE;AAMTC,EAAAA,OAAO,EAAC,EANC;AAQTC,EAAAA,SAAS,EAAE;AACPC,IAAAA,cAAc,CAACN,KAAD,EAAQC,QAAR,EAAkB;AAC5BM,MAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AACAD,MAAAA,KAAK,CAACC,QAAN,GAAiBA,QAAjB;AACH,KAJM;;AAKPQ,IAAAA,cAAc,CAACT,KAAD,EAAQE,QAAR,EAAkB;AAC5BF,MAAAA,KAAK,CAACE,QAAN,GAAiBA,QAAjB;AACH,KAPM;;AAQPQ,IAAAA,UAAU,CAACV,KAAD,EAAQG,KAAR,EAAe;AACrBH,MAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACH;;AAVM,GARF;AAoBTQ,EAAAA,OAAO,EAAE;AACLC,IAAAA,KAAK,CAAC;AAACC,MAAAA;AAAD,KAAD,EAAWd,IAAX,EAAiB;AAClBF,MAAAA,KAAK,CAACE,IAAD,CAAL,CAAYe,IAAZ,CAAiBC,GAAG,IAAI;AACpBjB,QAAAA,OAAO,CAACkB,iBAAR,CAA0B,WAA1B,EAAuCD,GAAG,CAACE,IAA3C;AACAJ,QAAAA,MAAM,CAAC,gBAAD,EAAmBE,GAAG,CAACE,IAAJ,CAASlB,IAAT,CAAcE,QAAjC,CAAN;AACAY,QAAAA,MAAM,CAAC,gBAAD,EAAmBE,GAAG,CAACE,IAAJ,CAASlB,IAAT,CAAcG,QAAjC,CAAN;AACAW,QAAAA,MAAM,CAAC,YAAD,EAAeE,GAAG,CAACE,IAAJ,CAASd,KAAxB,CAAN;AACH,OALD;AAMH;;AARI;AApBA,CAAb;AAgCA,eAAeJ,IAAf","sourcesContent":["import {login} from \"@/api/user\"\r\nimport storage from \"@/utils/storage\";\r\n\r\nconst user = {\r\n    state: {\r\n        userName: '',\r\n        nickName: '',\r\n        token: ''\r\n    },\r\n    getters:{\r\n    },\r\n    mutations: {\r\n        SAVE_USER_NAME(state, userName) {\r\n            console.log(userName)\r\n            state.userName = userName\r\n        },\r\n        SAVE_NICK_NAME(state, nickName) {\r\n            state.nickName = nickName\r\n        },\r\n        SAVE_TOKEN(state, token) {\r\n            state.token = token\r\n        }\r\n    },\r\n    actions: {\r\n        LOGIN({commit}, user) {\r\n            login(user).then(req => {\r\n                storage.saveSessionObject(\"loginUser\", req.data)\r\n                commit('SAVE_USER_NAME', req.data.user.userName)\r\n                commit('SAVE_NICK_NAME', req.data.user.nickName)\r\n                commit('SAVE_TOKEN', req.data.token)\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport default user"]},"metadata":{},"sourceType":"module"}