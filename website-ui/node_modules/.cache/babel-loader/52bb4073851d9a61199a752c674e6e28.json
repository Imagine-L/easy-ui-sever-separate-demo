{"ast":null,"code":"import { actions } from \"@/constant\";\nimport { getUserInfo } from \"@/api/user\";\nexport default {\n  name: 'mainPage',\n\n  data() {\n    return {// nickName: this.$store.state.user.nickName\n    };\n  },\n\n  computed: {\n    nickName() {\n      return this.$store.state.user.nickName;\n    }\n\n  },\n  methods: {\n    doLogout() {\n      this.$store.dispatch(actions.LOGOUT).then(resp => {\n        if (resp.status === 200) {\n          this.$router.push({\n            name: 'login'\n          });\n        }\n      }).catch(error => {\n        this.$store.dispatch(actions.EMPTY); // store.state.user.commit(mutations.EMPTY)\n\n        this.$router.push({\n          name: 'login'\n        });\n      });\n    },\n\n    open(name) {\n      this.$router.push({\n        name\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA4DA,SAAQA,OAAR,QAAsB,YAAtB;AACA,SAAQC,WAAR,QAA0B,YAA1B;AAEA,eAAe;AACbC,MAAI,EAAE,UADO;;AAEbC,MAAI,GAAG;AACL,WAAO,CACL;AADK,KAAP;AAGD,GANY;;AAObC,UAAQ,EAAE;AACRC,YAAQ,GAAG;AACT,aAAO,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBH,QAA9B;AACF;;AAHQ,GAPG;AAYbI,SAAO,EAAE;AACPC,YAAQ,GAAG;AACT,WAAKJ,MAAL,CAAYK,QAAZ,CAAqBX,OAAO,CAACY,MAA7B,EAAqCC,IAArC,CAA0CC,IAAG,IAAK;AAChD,YAAIA,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACvB,eAAKC,OAAL,CAAaC,IAAb,CAAkB;AAACf,gBAAI,EAAE;AAAP,WAAlB;AACF;AACD,OAJD,EAIGgB,KAJH,CAISC,KAAI,IAAK;AAChB,aAAKb,MAAL,CAAYK,QAAZ,CAAqBX,OAAO,CAACoB,KAA7B,EADgB,CAEhB;;AACA,aAAKJ,OAAL,CAAaC,IAAb,CAAkB;AAACf,cAAI,EAAE;AAAP,SAAlB;AACD,OARD;AASD,KAXM;;AAYPmB,QAAI,CAACnB,IAAD,EAAO;AACT,WAAKc,OAAL,CAAaC,IAAb,CAAkB;AAACf;AAAD,OAAlB;AACF;;AAdO;AAZI,CAAf","names":["actions","getUserInfo","name","data","computed","nickName","$store","state","user","methods","doLogout","dispatch","LOGOUT","then","resp","status","$router","push","catch","error","EMPTY","open"],"sourceRoot":"","sources":["E:\\学习\\项目\\元动力ssm小项目\\website-ui\\src\\components\\main\\index.vue"],"sourcesContent":["<template>\r\n  <el-container>\r\n\r\n    <el-aside width=\"200px\">\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <el-image\r\n              style=\"\r\n                width: 120px;\r\n                height: 60px;\r\n                display: block;\r\n                margin: 40px auto;\r\n              \"\r\n              fit=\"fill\"\r\n              :src=\"require('@/assets/image/main_logo.svg')\"\r\n          ></el-image>\r\n          <el-menu\r\n              active-text-color=\"#ffd04b\"\r\n              background-color=\"#191A22\"\r\n              class=\"el-menu-vertical-demo\"\r\n              default-active=\"1-1\"\r\n              text-color=\"#fff\"\r\n          >\r\n            <el-sub-menu index=\"1\">\r\n              <template #title>\r\n                <el-icon></el-icon>\r\n                <span>系统管理</span>\r\n              </template>\r\n\r\n              <el-menu-item index=\"1-1\" @click=\"open('user')\">\r\n                用户管理\r\n              </el-menu-item\r\n              >\r\n              <el-menu-item index=\"1-2\" @click=\"open('role')\" v-if=\"store.state.user.state.perms.includes('')\">\r\n                角色管理\r\n              </el-menu-item\r\n              >\r\n            </el-sub-menu>\r\n            <el-menu-item index=\"2\">\r\n              <el-icon></el-icon>\r\n              <span>客户管理</span>\r\n            </el-menu-item>\r\n          </el-menu>\r\n        </el-col>\r\n      </el-row>\r\n    </el-aside>\r\n    <el-container>\r\n      <el-header>\r\n        <span>昵称:&nbsp;{{ nickName }}</span>\r\n        <el-button type=\"primary\" @click=\"doLogout\">登出</el-button>\r\n      </el-header>\r\n      <!--进行路由跳转-->\r\n      <el-main>\r\n        <router-view/>\r\n      </el-main>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport {actions} from \"@/constant\";\r\nimport {getUserInfo} from \"@/api/user\";\r\n\r\nexport default {\r\n  name: 'mainPage',\r\n  data() {\r\n    return {\r\n      // nickName: this.$store.state.user.nickName\r\n    }\r\n  },\r\n  computed: {\r\n    nickName() {\r\n      return this.$store.state.user.nickName\r\n    }\r\n  },\r\n  methods: {\r\n    doLogout() {\r\n      this.$store.dispatch(actions.LOGOUT).then(resp => {\r\n        if (resp.status === 200) {\r\n          this.$router.push({name: 'login'})\r\n        }\r\n      }).catch(error => {\r\n        this.$store.dispatch(actions.EMPTY)\r\n        // store.state.user.commit(mutations.EMPTY)\r\n        this.$router.push({name: 'login'})\r\n      })\r\n    },\r\n    open(name) {\r\n      this.$router.push({name})\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.el-container {\r\n  height: 100%;\r\n}\r\n\r\n.el-header {\r\n  margin-bottom: 20px;\r\n  background: #e9eef3;\r\n}\r\n\r\n.el-footer {\r\n  line-height: 60px;\r\n}\r\n\r\n.el-aside {\r\n  background-color: #191a22;\r\n  color: var(--el-text-color-primary);\r\n  text-align: center;\r\n  line-height: 200px;\r\n}\r\n\r\n.el-main {\r\n  background-color: #fcfcfc;\r\n  color: var(--el-text-color-primary);\r\n  /*text-align: center;*/\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}