{"ast":null,"code":"// 导入创建路由和路由模式的方法\nimport { createRouter, createWebHistory } from \"vue-router\";\nimport { route_white_list } from \"@/constant\";\nimport store from \"@/store\"; // 定义路由信息\n\nlet routes = [{\n  name: 'login',\n  path: '/login',\n  component: () => import('@/components/login')\n}, {\n  name: 'main',\n  path: '/main',\n  component: () => import('@/components/main')\n}]; // 创建路由实例并传递 `routes` 配置\n// 使用的路由模式是html5的，而不是hash，url中不含#\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n}); // 全局的路由守卫，可以在路由进入前做一些工作\n\nrouter.beforeEach((to, from) => {\n  // 获取目的路由名字\n  let routeName = to.name; // 是否需要放行\n\n  if (route_white_list.includes(routeName)) return true; // 检查是否登录，登录则放行\n\n  console.log(store.getters.user.isLogin);\n\n  if (store.getters.user.isLogin) {} // 未登录则登录\n\n\n  return true;\n}); // 导出路由实例\n\nexport default router;","map":{"version":3,"sources":["E:/学习/项目/元动力ssm小项目/website-ui/src/route/index.js"],"names":["createRouter","createWebHistory","route_white_list","store","routes","name","path","component","router","history","beforeEach","to","from","routeName","includes","console","log","getters","user","isLogin"],"mappings":"AAAA;AACA,SAAQA,YAAR,EAAsBC,gBAAtB,QAA6C,YAA7C;AACA,SAAQC,gBAAR,QAA+B,YAA/B;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CAGA;;AACA,IAAIC,MAAM,GAAG,CACT;AACIC,EAAAA,IAAI,EAAE,OADV;AAEIC,EAAAA,IAAI,EAAE,QAFV;AAGIC,EAAAA,SAAS,EAAE,MAAM,OAAO,oBAAP;AAHrB,CADS,EAMT;AACIF,EAAAA,IAAI,EAAE,MADV;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,SAAS,EAAE,MAAM,OAAO,mBAAP;AAHrB,CANS,CAAb,C,CAaA;AACA;;AACA,MAAMC,MAAM,GAAGR,YAAY,CAAC;AACxBS,EAAAA,OAAO,EAAER,gBAAgB,EADD;AAExBG,EAAAA;AAFwB,CAAD,CAA3B,C,CAKA;;AACAI,MAAM,CAACE,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,KAAc;AAC5B;AACA,MAAIC,SAAS,GAAGF,EAAE,CAACN,IAAnB,CAF4B,CAG5B;;AACA,MAAIH,gBAAgB,CAACY,QAAjB,CAA0BD,SAA1B,CAAJ,EAA0C,OAAO,IAAP,CAJd,CAM5B;;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYb,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmBC,OAA/B;;AACA,MAAIhB,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmBC,OAAvB,EAAgC,CAE/B,CAV2B,CAW5B;;;AACA,SAAO,IAAP;AACH,CAbD,E,CAeA;;AACA,eAAeX,MAAf","sourcesContent":["// 导入创建路由和路由模式的方法\r\nimport {createRouter, createWebHistory} from \"vue-router\";\r\nimport {route_white_list} from \"@/constant\";\r\nimport store from \"@/store\";\r\n\r\n\r\n// 定义路由信息\r\nlet routes = [\r\n    {\r\n        name: 'login',\r\n        path: '/login',\r\n        component: () => import('@/components/login')\r\n    },\r\n    {\r\n        name: 'main',\r\n        path: '/main',\r\n        component: () => import('@/components/main')\r\n    }\r\n]\r\n\r\n// 创建路由实例并传递 `routes` 配置\r\n// 使用的路由模式是html5的，而不是hash，url中不含#\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes\r\n})\r\n\r\n// 全局的路由守卫，可以在路由进入前做一些工作\r\nrouter.beforeEach((to, from) => {\r\n    // 获取目的路由名字\r\n    let routeName = to.name\r\n    // 是否需要放行\r\n    if (route_white_list.includes(routeName)) return true\r\n\r\n    // 检查是否登录，登录则放行\r\n    console.log(store.getters.user.isLogin)\r\n    if (store.getters.user.isLogin) {\r\n\r\n    }\r\n    // 未登录则登录\r\n    return true\r\n})\r\n\r\n// 导出路由实例\r\nexport default router"]},"metadata":{},"sourceType":"module"}