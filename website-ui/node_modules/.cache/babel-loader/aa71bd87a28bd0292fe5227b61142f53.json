{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createBlock(_component_router_view);\n}","map":{"version":3,"mappings":";;;;uBACEA,aAA2BC,sBAA3B","names":["_createBlock","_component_router_view"],"sourceRoot":"","sources":["E:\\学习\\项目\\元动力ssm小项目\\website-ui\\src\\App.vue"],"sourcesContent":["<template>\n  <router-view></router-view>\n</template>\n\n<script setup>\nimport {onMounted} from \"vue\";\nimport {useRouter} from 'vue-router'\nimport storage from \"@/utils/storage\";\nimport {session} from \"@/constant\";\nimport {toMain} from \"@/api/user\";\n\nconst router = useRouter();\n\nconst getPageName = () => {\n  return new Promise((resolve, reject) => {\n    toMain().then(resp => {\n      console.log(resp)\n      if (resp.status >= 200 && resp < 300) {\n        resolve('main')\n      } else {\n        resolve('login')\n      }\n    }).catch(error => {\n      reject(error)\n    })\n  })\n}\n\nonMounted(() => {\n  if (storage.sessionKeyIsEmpty(session.SESSION_USER_TAG)) {\n    console.log('检测到记录')\n    getPageName().then(pageName => {\n      console.log(pageName)\n      router.push({name: pageName})\n    }).catch(() => {\n      router.push({name: 'login'})\n    })\n  } else {\n    router.push({name: 'login'})\n  }\n  // router.push({name: 'login'})\n})\n\n</script>\n\n<style>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}