{"ast":null,"code":"import { login } from \"@/api/user\";\nimport storage from \"@/utils/storage\";\nimport { actions, mutations } from \"@/constant\";\nconst user = {\n  state: {\n    userName: '',\n    nickName: '',\n    token: ''\n  },\n  getters: {},\n  mutations: {\n    [mutations.SAVE_USER_NAME](state, userName) {\n      console.log(userName);\n      state.userName = userName;\n    },\n\n    [mutations.SAVE_NICK_NAME](state, nickName) {\n      state.nickName = nickName;\n    },\n\n    [mutations.SAVE_TOKEN](state, token) {\n      state.token = token;\n    }\n\n  },\n  actions: {\n    [actions.LOGIN]({\n      commit\n    }, user) {\n      return new Promise((resolve, reject) => {\n        login(user).then(req => {\n          storage.saveSessionObject(\"loginUser\", req.data);\n          commit(mutations.SAVE_USER_NAME, req.data.user.userName);\n          commit(mutations.SAVE_NICK_NAME, req.data.user.nickName);\n          commit(mutations.SAVE_TOKEN, req.data.token);\n          resolve(req);\n        }).catch(error => {\n          reject(error);\n        });\n      });\n    },\n\n    [actions.LOGOUT]({\n      commit\n    }) {}\n\n  }\n};\nexport default user;","map":{"version":3,"sources":["E:/学习/项目/元动力ssm小项目/website-ui/src/store/modules/user.js"],"names":["login","storage","actions","mutations","user","state","userName","nickName","token","getters","SAVE_USER_NAME","console","log","SAVE_NICK_NAME","SAVE_TOKEN","LOGIN","commit","Promise","resolve","reject","then","req","saveSessionObject","data","catch","error","LOGOUT"],"mappings":"AAAA,SAAQA,KAAR,QAAoB,YAApB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,SAAQC,OAAR,EAAiBC,SAAjB,QAAiC,YAAjC;AAEA,MAAMC,IAAI,GAAG;AACTC,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ,EAAE,EADP;AAEHC,IAAAA,QAAQ,EAAE,EAFP;AAGHC,IAAAA,KAAK,EAAE;AAHJ,GADE;AAMTC,EAAAA,OAAO,EAAE,EANA;AAOTN,EAAAA,SAAS,EAAE;AACP,KAACA,SAAS,CAACO,cAAX,EAA2BL,KAA3B,EAAkCC,QAAlC,EAA4C;AACxCK,MAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACAD,MAAAA,KAAK,CAACC,QAAN,GAAiBA,QAAjB;AACH,KAJM;;AAKP,KAACH,SAAS,CAACU,cAAX,EAA2BR,KAA3B,EAAkCE,QAAlC,EAA4C;AACxCF,MAAAA,KAAK,CAACE,QAAN,GAAiBA,QAAjB;AACH,KAPM;;AAQP,KAACJ,SAAS,CAACW,UAAX,EAAuBT,KAAvB,EAA8BG,KAA9B,EAAqC;AACjCH,MAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACH;;AAVM,GAPF;AAmBTN,EAAAA,OAAO,EAAE;AACL,KAACA,OAAO,CAACa,KAAT,EAAgB;AAACC,MAAAA;AAAD,KAAhB,EAA0BZ,IAA1B,EAAgC;AAC5B,aAAO,IAAIa,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCnB,QAAAA,KAAK,CAACI,IAAD,CAAL,CAAYgB,IAAZ,CAAiBC,GAAG,IAAI;AACpBpB,UAAAA,OAAO,CAACqB,iBAAR,CAA0B,WAA1B,EAAuCD,GAAG,CAACE,IAA3C;AACAP,UAAAA,MAAM,CAACb,SAAS,CAACO,cAAX,EAA2BW,GAAG,CAACE,IAAJ,CAASnB,IAAT,CAAcE,QAAzC,CAAN;AACAU,UAAAA,MAAM,CAACb,SAAS,CAACU,cAAX,EAA2BQ,GAAG,CAACE,IAAJ,CAASnB,IAAT,CAAcG,QAAzC,CAAN;AACAS,UAAAA,MAAM,CAACb,SAAS,CAACW,UAAX,EAAuBO,GAAG,CAACE,IAAJ,CAASf,KAAhC,CAAN;AACAU,UAAAA,OAAO,CAACG,GAAD,CAAP;AACH,SAND,EAMGG,KANH,CAMSC,KAAK,IAAI;AACdN,UAAAA,MAAM,CAACM,KAAD,CAAN;AACH,SARD;AASH,OAVM,CAAP;AAWH,KAbI;;AAcL,KAACvB,OAAO,CAACwB,MAAT,EAAiB;AAACV,MAAAA;AAAD,KAAjB,EAA2B,CAE1B;;AAhBI;AAnBA,CAAb;AAuCA,eAAeZ,IAAf","sourcesContent":["import {login} from \"@/api/user\"\r\nimport storage from \"@/utils/storage\";\r\nimport {actions, mutations} from \"@/constant\";\r\n\r\nconst user = {\r\n    state: {\r\n        userName: '',\r\n        nickName: '',\r\n        token: ''\r\n    },\r\n    getters: {},\r\n    mutations: {\r\n        [mutations.SAVE_USER_NAME](state, userName) {\r\n            console.log(userName)\r\n            state.userName = userName\r\n        },\r\n        [mutations.SAVE_NICK_NAME](state, nickName) {\r\n            state.nickName = nickName\r\n        },\r\n        [mutations.SAVE_TOKEN](state, token) {\r\n            state.token = token\r\n        }\r\n    },\r\n    actions: {\r\n        [actions.LOGIN]({commit}, user) {\r\n            return new Promise((resolve, reject) => {\r\n                login(user).then(req => {\r\n                    storage.saveSessionObject(\"loginUser\", req.data)\r\n                    commit(mutations.SAVE_USER_NAME, req.data.user.userName)\r\n                    commit(mutations.SAVE_NICK_NAME, req.data.user.nickName)\r\n                    commit(mutations.SAVE_TOKEN, req.data.token)\r\n                    resolve(req)\r\n                }).catch(error => {\r\n                    reject(error)\r\n                })\r\n            })\r\n        },\r\n        [actions.LOGOUT]({commit}) {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport default user"]},"metadata":{},"sourceType":"module"}